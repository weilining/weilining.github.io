!function(){var t,e=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],//0
[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],//1
[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],//2
[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],//3
[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],//4
[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],//5
[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],//6
[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],//7
[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],//8
[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],//9
[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],l=document.getElementById("canvas");if(l.getContext){var n=l.getContext("2d");
// 声明 canvas 的宽高
l.height=100,l.width=700,n.fillStyle="#f00",n.fillRect(10,10,50,50);
// 存储时间数据
var a=[],r=[],h=l.height/20-1;
// 存储运动的小球
/* 生成点阵数字 */
function o(t,l){for(var a=0;a<e[l].length;a++)for(var r=0;r<e[l][a].length;r++)1==e[l][a][r]&&(n.beginPath(),
//cxt.fillStyle = '#f00';/* 红色数字 */
//cxt.fillStyle = '#fff';/* 白色数字 */
n.fillStyle="#FAF0BB",/* 代码黄数字 */
n.arc(14*(h+2)*t+2*r*(h+1)+(h+1),2*a*(h+1)+(h+1),h,0,2*Math.PI),n.closePath(),n.fill())}
/* 更新时钟 */
/* 增加要运动的小球 */
function f(t,l){for(var n=[1,2,3],a=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],o=0;o<e[l].length;o++)for(var f=0;f<e[l][o].length;f++)if(1==e[l][o][f]){var i={x:14*(h+2)*t+2*f*(h+1)+(h+1),y:2*o*(h+1)+(h+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:a[Math.floor(Math.random()*a.length)],disY:1};r.push(i)}}
/* 渲染 */t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),
// 存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这 7 个数字组成
a.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(i);var i=setInterval((function(){
// 更新时钟
!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),l=[];l.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var n=a.length-1;n>=0;n--)
// 时间发生变化
l[n]!==a[n]&&
// 将变化的数字值和在 data 数组中的索引存储在 changeNumArray 数组中
t.push(n+"_"+(Number(a[n])+1)%10);
// 增加小球
for(n=0;n<t.length;n++)f.apply(this,t[n].split("_"));a=l.concat()}
/* 更新小球状态 */(),
// 更新小球状态
function(){for(var t=0;t<r.length;t++)r[t].stepY+=r[t].disY,r[t].x+=r[t].stepX,r[t].y+=r[t].stepY,(r[t].x>700+h||r[t].y>100+h)&&(r.splice(t,1),t--)}(),
// 渲染
function(){
// 重置画布宽度，达到清空画布的效果
l.height=100;
// 渲染时钟
for(var t=0;t<a.length;t++)o(t,a[t]);
// 渲染小球
for(t=0;t<r.length;t++)n.beginPath(),n.arc(r[t].x,r[t].y,h,0,2*Math.PI),n.fillStyle=r[t].color,n.closePath(),n.fill()}()}),50)}}();